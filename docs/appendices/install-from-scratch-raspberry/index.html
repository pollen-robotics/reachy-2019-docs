<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Install from Scratch on a Raspberry-Pi"><meta property="og:title" content="Install from Scratch on a Raspberry-Pi"><meta property="og:description" content="Install from Scratch on a Raspberry-Pi This guide describe how we generate our ISO. Its main use is for us to keep it up-to-date and always accessible for our team. You can freely use it and adapt it to your needs but we don't intend to explain every details here.
Prepare the Raspberry-Pi  Burn an SD-Card (16Go or more) using Raspbian Buster with desktop - February 2020. Make sure to allow ssh (touch ssh on the boot partition) or directly work from the Pi board using a mouse, keyboard and screen."><meta property="og:type" content="article"><meta property="og:url" content="https://pollen-robotics.github.io/reachy-docs/docs/appendices/install-from-scratch-raspberry/"><title>Install from Scratch on a Raspberry-Pi | Reachy manual</title><link rel=icon href=/reachy-docs/favicon.png type=image/x-icon><link rel=stylesheet href=/reachy-docs/book.min.b7fe34b8a4c4da05b2690b4aacfa71ddce0668cc6da3abb67dd3946844125444.css integrity="sha256-t/40uKTE2gWyaQtKrPpx3c4GaMxto6u2fdOUaEQSVEQ="><script defer src=/reachy-docs/en.search.min.d6df26e57ffd2f1303e182593b72a92a7bb8f32419227d344d0b9dd861346980.js integrity="sha256-1t8m5X/9LxMD4YJZO3KpKnu48yQZIn00TQud2GE0aYA="></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-92714924-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><input type=checkbox class=hidden id=menu-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/reachy-docs><span>Reachy manual</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/reachy-docs/docs/getting-started/>Getting Started</a><ul><li><a href=/reachy-docs/docs/getting-started/install-your-robot/>Install your robot</a></li><li><a href=/reachy-docs/docs/getting-started/connect-to-your-robot/>Connect to Your Robot</a></li><li><a href=/reachy-docs/docs/getting-started/check-status/>Check the status of Reachy</a></li><li><a href=/reachy-docs/docs/getting-started/faq/>FAQ</a></li></ul></li><li><a href=/reachy-docs/docs/posts/safety/>Safety First</a></li><li><a href=/reachy-docs/docs/technical-specifications/>Technical Specifications</a><ul><li><a href=/reachy-docs/docs/technical-specifications/arm/>Arm</a></li><li><a href=/reachy-docs/docs/technical-specifications/gripper/>Gripper</a></li><li><a href=/reachy-docs/docs/technical-specifications/head/>Head</a></li><li><a href=/reachy-docs/docs/technical-specifications/torso/>Torso</a></li></ul></li><li><a href=/reachy-docs/docs/program-your-robot/>Program your robot</a><ul><li><a href=/reachy-docs/docs/program-your-robot/instantiate-your-robot/>Instantiate Your Robot</a></li><li><a href=/reachy-docs/docs/program-your-robot/control-the-arm/>Control The Arm</a></li><li><a href=/reachy-docs/docs/program-your-robot/control-the-head/>Control The Head</a></li><li><a href=/reachy-docs/docs/program-your-robot/pick-and-place/>Pick and Place</a></li><li><a href=/reachy-docs/docs/program-your-robot/ai/>AI & Coral TPU</a></li><li><a href=/reachy-docs/docs/program-your-robot/python-api/>Python's API</a></li></ul></li><li><a href=/reachy-docs/docs/tictactoe/>TicTacToe Playground</a><ul><li><a href=/reachy-docs/docs/tictactoe/setup-the-demo/>Setup The Demo</a></li><li><a href=/reachy-docs/docs/tictactoe/playing-with-reachy/>Playing With Reachy</a></li><li><a href=/reachy-docs/docs/tictactoe/train-your-own-detection/>Train Your Own Vision Detection</a></li></ul></li><li><a href=/reachy-docs/docs/simulation/>Reachy simulation</a><ul><li><a href=/reachy-docs/docs/simulation/create-your-own-scene/>Create your own virtual scene for Reachy</a></li></ul></li><li><span>Appendices</span><ul><li><a href=/reachy-docs/docs/appendices/install-from-scratch-raspberry/ class=active>Install from Scratch on a Raspberry-Pi</a></li><li><a href=/reachy-docs/docs/appendices/flash-luos-module/>Flash a Luos module</a></li></ul></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/reachy-docs/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Install from Scratch on a Raspberry-Pi</strong>
<label for=toc-control><img src=/reachy-docs/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><input type=checkbox class=hidden id=toc-control><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#prepare-the-raspberry-pi>Prepare the Raspberry-Pi</a></li><li><a href=#raspi-config>Raspi-config</a></li><li><a href=#install-reachy-needed-software>Install Reachy needed software</a></li><li><a href=#setup-coral-toolkit>Setup Coral toolkit</a></li><li><a href=#install-extra-stuff>Install extra stuff</a></li><li><a href=#check-if-everything-is-fine>Check if everything is fine</a></li><li><a href=#generate-iso>Generate ISO</a></li></ul></nav></aside></header><article class=markdown><h1 id=install-from-scratch-on-a-raspberry-pi>Install from Scratch on a Raspberry-Pi</h1><p>This guide describe how we generate our ISO. Its main use is for us to keep it up-to-date and always accessible for our team. You can freely use it and adapt it to your needs but we don't intend to explain every details here.</p><h2 id=prepare-the-raspberry-pi>Prepare the Raspberry-Pi</h2><ul><li>Burn an SD-Card (16Go or more) using <a href=https://www.raspberrypi.org/downloads/raspbian/>Raspbian Buster with desktop - February 2020</a>.</li><li>Make sure to allow ssh (<code>touch ssh</code> on the <em>boot</em> partition) or directly work from the Pi board using a mouse, keyboard and screen.</li><li>Power your Raspberry-Pi and connect it to internet via Ethernet (WiFi is not configure at this point).</li><li>Once booted, connect to it using ssh and the pi login (<code>ssh pi@raspberrypi.local</code> password <em>raspberry</em>)</li></ul><h2 id=raspi-config>Raspi-config</h2><p>Once booted and logged in the Raspberry-Pi, we need to run raspi-config to setup few things. So, on the Pi bash run <code>sudo raspi-config</code> (We will give the number/letter corresponding to the entry item for each command below)</p><ul><li>Change user password to <em>reachy</em>: <em>1</em></li><li>Change hostname to <em>reachy</em>: <em>2-N1</em></li><li>Turn on WiFi (you can set the country and your own WiFi if you want but this is not necessary) <em>2-N2-Cancel-Cancel-</em></li><li>Finish and reboot</li></ul><h2 id=install-reachy-needed-software>Install Reachy needed software</h2><ul><li>Reconnect <code>ssh pi@reachy.local</code> (password <em>reachy</em>)</li><li>Create our own work folder <code>mkdir dev</code> and <code>cd dev</code></li><li>Clone Reachy software: <code>git clone https://github.com/pollen-robotics/reachy</code></li><li>Checkout latest release <code>cd reachy</code>and <code>git checkout tags/v1.3.0</code></li><li>Install atlas for scipy: <code>sudo apt install -y libatlas-base-dev</code></li><li>Install deps for opencv: <code>sudo apt install -y libhdf5-dev libhdf5-serial-dev libhdf5-103 libqtgui4 libqtwebkit4 libqt4-test python3-pyqt5 libatlas-base-dev libjasper-dev</code></li><li>Install Reachy dependencies using the system python3: <code>pip3 install -r ~/dev/reachy/software/requirements.txt</code></li><li>Install Reachy software using the system python3: <code>pip3 install -e ~/dev/reachy/software</code></li><li>Get the Access Point and dashboard libraries: <code>cd ~/dev</code>and <code>git clone https://github.com/pollen-robotics/RAP</code></li><li>Install them: <code>cd ~/dev/RAP/</code> and <code>sudo bash install.sh</code> (Say Yes both time when asked during install)</li></ul><h2 id=setup-coral-toolkit>Setup Coral toolkit</h2><p>(see <a href=https://coral.ai/docs/accelerator/get-started/>https://coral.ai/docs/accelerator/get-started/</a>)</p><ul><li><code>echo "deb https://packages.cloud.google.com/apt coral-edgetpu-stable main" | sudo tee /etc/apt/sources.list.d/coral-edgetpu.list</code></li><li>curl <a href=https://packages.cloud.google.com/apt/doc/apt-key.gpg>https://packages.cloud.google.com/apt/doc/apt-key.gpg</a> | sudo apt-key add -</li><li>sudo apt-get update</li><li>sudo apt install libedgetpu1-std python3-edgetpu</li><li>pip3 install <a href=https://dl.google.com/coral/python/tflite_runtime-2.1.0.post1-cp37-cp37m-linux_armv7l.whl>https://dl.google.com/coral/python/tflite_runtime-2.1.0.post1-cp37-cp37m-linux_armv7l.whl</a></li><li>cd ~/dev</li><li>mkdir coral && cd coral</li><li>git clone <a href=https://github.com/google-coral/tflite.git>https://github.com/google-coral/tflite.git</a></li><li>cd tflite/python/examples/classification</li><li>bash install_requirements.sh</li><li>sudo apt-get install python3-edgetpu edgetpu-examples</li></ul><h2 id=install-extra-stuff>Install extra stuff</h2><ul><li>Install IPython, Jupyter, Matplotlib: <code>pip3 install ipython jupyter matplotlib</code></li><li>Setup ipywidgets:<ul><li><code>pip3 install ipywidgets</code></li><li><code>/home/pi/.local/bin/jupyter nbextension enable --py widgetsnbextension</code></li></ul></li><li>Install dfu-util: <code>sudo apt install dfu-util</code></li></ul><h2 id=check-if-everything-is-fine>Check if everything is fine</h2><ul><li>Reboot</li><li>Connect to reachy access point (SSID: <em>Reachy-AP</em>)</li><li>Connect to the dashboard: <a href=http://reachy.local>http://reachy.local</a></li></ul><h2 id=generate-iso>Generate ISO</h2><ul><li>You will need another Raspberry-Pi with lots of space (64Go) to do that</li><li>Connect the reachy SD-card to the other Raspberry PI (using an USB adaptor)</li><li>Create an img using dd (check the disk number using <code>sudo fdisk -l</code>): <code>sudo dd bs=4M if=/dev/sda of=reachy-$(date +%F).img conv=fsync</code></li><li>download shrink: <code>wget https://raw.githubusercontent.com/Drewsif/PiShrink/master/pishrink.sh</code></li><li>Run <code>sudo bash pishrink.sh -pz reachy-$(date +%F).img</code></li><li>Share the create compressed img!</li></ul></article><footer class=book-footer><div class="flex justify-between"><div><a class="flex align-center" href=https://github.com/pollen-robotics/reachy-docs/edit/master/content/docs/appendices/install-from-scratch-raspberry.md target=_blank rel=noopener><img src=/reachy-docs/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><div class=book-comments></div></footer></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#prepare-the-raspberry-pi>Prepare the Raspberry-Pi</a></li><li><a href=#raspi-config>Raspi-config</a></li><li><a href=#install-reachy-needed-software>Install Reachy needed software</a></li><li><a href=#setup-coral-toolkit>Setup Coral toolkit</a></li><li><a href=#install-extra-stuff>Install extra stuff</a></li><li><a href=#check-if-everything-is-fine>Check if everything is fine</a></li><li><a href=#generate-iso>Generate ISO</a></li></ul></nav></aside></main></body></html>