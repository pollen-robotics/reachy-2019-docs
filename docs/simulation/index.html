<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Reachy simulation"><meta property="og:title" content="Reachy simulation"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://pollen-robotics.github.io/reachy-docs/docs/simulation/"><title>Reachy simulation | Reachy manual</title><link rel=icon href=/reachy-docs/favicon.png type=image/x-icon><link rel=stylesheet href=/reachy-docs/book.min.b7fe34b8a4c4da05b2690b4aacfa71ddce0668cc6da3abb67dd3946844125444.css integrity="sha256-t/40uKTE2gWyaQtKrPpx3c4GaMxto6u2fdOUaEQSVEQ="><script defer src=/reachy-docs/en.search.min.cc1efe234b122087b459a2c6c091e058d80fc1e01fd31e747a8a8e583d7f1bcb.js integrity="sha256-zB7+I0sSIIe0WaLGwJHgWNgPweAf0x50eoqOWD1/G8s="></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-92714924-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><link rel=alternate type=application/rss+xml href=https://pollen-robotics.github.io/reachy-docs/docs/simulation/index.xml title="Reachy manual"></head><body><input type=checkbox class=hidden id=menu-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/reachy-docs><span>Reachy manual</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/reachy-docs/docs/getting-started/>Getting Started</a><ul><li><a href=/reachy-docs/docs/getting-started/install-your-robot/>Install your robot</a></li><li><a href=/reachy-docs/docs/getting-started/connect-to-your-robot/>Connect to Your Robot</a></li><li><a href=/reachy-docs/docs/getting-started/check-status/>Check the status of Reachy</a></li><li><a href=/reachy-docs/docs/getting-started/faq/>FAQ</a></li></ul></li><li><a href=/reachy-docs/docs/posts/safety/>Safety First</a></li><li><a href=/reachy-docs/docs/technical-specifications/>Technical Specifications</a><ul><li><a href=/reachy-docs/docs/technical-specifications/arm/>Arm</a></li><li><a href=/reachy-docs/docs/technical-specifications/gripper/>Gripper</a></li><li><a href=/reachy-docs/docs/technical-specifications/head/>Head</a></li><li><a href=/reachy-docs/docs/technical-specifications/torso/>Torso</a></li></ul></li><li><a href=/reachy-docs/docs/program-your-robot/>Program your robot</a><ul><li><a href=/reachy-docs/docs/program-your-robot/instantiate-your-robot/>Instantiate Your Robot</a></li><li><a href=/reachy-docs/docs/program-your-robot/control-the-arm/>Control The Arm</a></li><li><a href=/reachy-docs/docs/program-your-robot/control-the-head/>Control The Head</a></li><li><a href=/reachy-docs/docs/program-your-robot/pick-and-place/>Pick and Place</a></li><li><a href=/reachy-docs/docs/program-your-robot/ai/>AI & Coral TPU</a></li><li><a href=/reachy-docs/docs/program-your-robot/python-api/>Python's API</a></li></ul></li><li><a href=/reachy-docs/docs/tictactoe/>TicTacToe Playground</a><ul><li><a href=/reachy-docs/docs/tictactoe/setup-the-demo/>Setup The Demo</a></li><li><a href=/reachy-docs/docs/tictactoe/playing-with-reachy/>Playing With Reachy</a></li><li><a href=/reachy-docs/docs/tictactoe/train-your-own-detection/>Train Your Own Vision Detection</a></li></ul></li><li><a href=/reachy-docs/docs/simulation/ class=active>Reachy simulation</a><ul><li><a href=/reachy-docs/docs/simulation/create-your-own-scene/>Create your own virtual scene for Reachy</a></li></ul></li><li><span>Appendices</span><ul><li><a href=/reachy-docs/docs/appendices/install-from-scratch-raspberry/>Install from Scratch on a Raspberry-Pi</a></li></ul></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/reachy-docs/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Reachy simulation</strong>
<label for=toc-control><img src=/reachy-docs/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><input type=checkbox class=hidden id=toc-control><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#quickstart>Quickstart</a><ul><li><a href=#what-you-need>What you need</a></li><li><a href=#getting-started>Getting started</a></li><li><a href=#navigate-in-the-3d-scene>Navigate in the 3D scene</a></li></ul></li><li><a href=#difference-with-controlling-a-real-robot>Difference with controlling a real robot</a><ul><li><a href=#whats-currently-missing-and-should-be-added-soon>What's currently missing (and should be added soon)</a></li><li><a href=#whats-more-complex-but-we-are-working-on-it>What's more complex (but we are working on it!)</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=reachy-simulation>Reachy simulation</h1><p>Based on the <a href=https://unity.com>Unity engine</a>, we provide our own visualisation and simulation tool for reachy.</p><ul><li>It lets you try to move the simulated robot without any risk of breaking anything. It’s a good way to learn how to control Reachy without fear.</li><li>You can try yourself controlling a simulated Reachy before purchasing one, to better understand what it can and cannot do.</li><li>It can be used extensively and with as many robots as you want for instance to train your machine learning algorithm.</li></ul><p>This tool is still rather primitive at the moment, but we are dedicated to improve it and add new features in the coming weeks and month.</p><img src=/reachy-docs/img/simu/hello-code.gif alt="Simulation presentation" width=600px><h2 id=quickstart>Quickstart</h2><h3 id=what-you-need>What you need</h3><p>So, what do you need to do the same on your own computer?</p><p>First, you don't need a real Reachy. You can access the simulator without having the real robot directly here: <a href=http://reachy-simu.pollen-robotics.com>http://reachy-simu.pollen-robotics.com</a></p><p>What you only need is to install our Python’s package. It can be found on <a href=https://github.com/pollen-robotics/reachy>GitHub</a> or directly on <a href=https://pypi.org/project/reachy/>PyPi</a>. It requires Python 3 and a few classical dependencies (numpy, scipy, etc). This software is the same one that runs on the real robot. We've simply included a specific IO layer that changes the communication with the hardware (motors and sensors) to use a WebSocket communication that interacts with the 3D visualisation.</p><p>You also need to use a Web browser that is compatible with WebGL, which is the case with all more or less recent browsers. It will also most likely not work on mobile devices, as Unity support is only partial at this time (See <a href=https://docs.unity3d.com/Manual/webgl-browsercompatibility.html>https://docs.unity3d.com/Manual/webgl-browsercompatibility.html</a> for details).</p><h3 id=getting-started>Getting started</h3><p>Both hardware and simulated robot share the same API, to let you switch from simulation to a real robot back and forth easily.</p><p>They are a few difference that you should take into consideration.</p><p>First, when instantiating your robot, you need to specify that you want to use the simulated version. To do that, you simply set all IOs to <em>&lsquo;ws&rsquo;</em> (instead of specifying the USB port on a real Reachy):</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> reachy <span style=color:#f92672>import</span> parts, Reachy

r <span style=color:#f92672>=</span> Reachy(
    right_arm<span style=color:#f92672>=</span>parts<span style=color:#f92672>.</span>RightArm(io<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>ws</span><span style=color:#e6db74>&#39;</span>, hand<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>force_gripper</span><span style=color:#e6db74>&#39;</span>),
    left_arm<span style=color:#f92672>=</span>parts<span style=color:#f92672>.</span>LeftArm(io<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>ws</span><span style=color:#e6db74>&#39;</span>, hand<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>force_gripper</span><span style=color:#e6db74>&#39;</span>),
)
</code></pre></div><p>This creates a web socket server in the background that connects to the Unity simulation. When opening <a href=http://reachy-simu.pollen-robotics.com>http://reachy-simu.pollen-robotics.com</a>, click on the &lsquo;Connect&rsquo; button and you should see the connection status going green, meaning both are synced.</p><p>Then, you can run command using Python’s API and you should see the visualisation move!
For instance:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>r<span style=color:#f92672>.</span>right_arm<span style=color:#f92672>.</span>elbow_pitch<span style=color:#f92672>.</span>goal_position <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>80</span>
</code></pre></div><h3 id=navigate-in-the-3d-scene>Navigate in the 3D scene</h3><p>Once in the simulation, you can control the camera and rotate around reachy (with the left click) and move or zoom (with the mouse wheel).
Four buttons on the left allow you to show or hide reachy's components if you want to focus on specific parts.</p><h2 id=difference-with-controlling-a-real-robot>Difference with controlling a real robot</h2><p>They are still some difference between the real robot and its simulation equivalent. Some will be erased in the future, some are inherent to this kind of problem.</p><h3 id=whats-currently-missing-and-should-be-added-soon>What's currently missing (and should be added soon)</h3><p>At the moment, we do not provide support in the simulation for:</p><ul><li>the head part (you can see it but not control it)</li><li>the present position can not be read</li></ul><p>Those limits should be removed in the next few days.</p><p>Extra sensors, such as the force sensor, are not implemented in the simulation. You can still access them from code to guarantee compatibility but they will return random or nan values. We are currently investigating how they can be implemented within Unity.</p><h3 id=whats-more-complex-but-we-are-working-on-it>What's more complex (but we are working on it!)</h3><p>The current version of the simulation does not rely on physics at all. Motors are teleported to their goal position and no gravity force is applied on the robot.</p><p>We are planning to better integrate with Unity and take advantage of their new Physics API. This should allow us to have collision detection and interaction with the rest of the environment.</p></article><footer class=book-footer><div class="flex justify-between"><div><a class="flex align-center" href=https://github.com/pollen-robotics/reachy-docs/edit/master/content/docs/simulation/_index.md target=_blank rel=noopener><img src=/reachy-docs/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><div class=book-comments></div></footer></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#quickstart>Quickstart</a><ul><li><a href=#what-you-need>What you need</a></li><li><a href=#getting-started>Getting started</a></li><li><a href=#navigate-in-the-3d-scene>Navigate in the 3D scene</a></li></ul></li><li><a href=#difference-with-controlling-a-real-robot>Difference with controlling a real robot</a><ul><li><a href=#whats-currently-missing-and-should-be-added-soon>What's currently missing (and should be added soon)</a></li><li><a href=#whats-more-complex-but-we-are-working-on-it>What's more complex (but we are working on it!)</a></li></ul></li></ul></nav></aside></main></body></html>